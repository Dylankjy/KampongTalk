@page
@model IndexModel
@inject Tools.IUserAttributes UserAttributes
@{
    ViewData["Title"] = "Home page";
}
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="~/css/navMap.css">


<audio preload="auto" id="chime" src="/audio/navMapHover.mp3"
       style="width: 100%;">
</audio>



<section class="section" id="fullview" style="display:block;">
    <div class="columns">

        <!-- START: Main Column -->
        <div class="column is-four-fifths-desktop" data-title="Welcome to KampongTalk's map." data-intro="This is where you can access all the features of KampongTalk.">
            @*<div class="container mb-3 has-text-centered">
                    <h1 class="subtitle has-text-weight-bold">Welcome to Kampong Talk</h1>
                </div>*@

            <!-- START: KT Nav Map-->
            <div class="container has-text-centered" style="position:relative;">
                <img src="~/imgs/NavMap/KT_MapBG.png" style="top: 5vh; height: 80vh; z-index: 1; position: relative;" />

                <!-- ChatIcon -->
                <a href="">
                    <div class="iconDiv expandDiv" style="top: 0vh; left: 14vw;" data-title="Chat" data-intro="Here, you can access your private messages and create chats.">
                        <img src="~/imgs/NavMap/Chat_Icon.png" class="navMapIcon" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.chats</span></p>
                    </div>
                </a>

                <!-- CommunitiesIcon -->
                <a href="/Community/Explore">
                    <div class="iconDiv expandDiv" style="top:0vh; left:38vw;" data-title="Communities" data-intro="Have a specific interest or hobby? Find posts grouped by topics here.">
                        <img src="~/imgs/NavMap/Communities_Icon.png" class="navMapIcon" style="height:25vh;" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.communities</span></p>

                    </div>
                </a>

                <!-- VoidDeckIcon -->
                <a href="/DigitalVoidDeck/Lobby">
                    <div class="iconDiv expandDiv" style="top:0vh; left:51vw;" data-title="Void Deck" data-intro="Find and meet new people in your neighbourhood.">
                        <img src="~/imgs/NavMap/Void_Deck.png" class="navMapIcon" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.voidDeck</span></p>
                    </div>
                </a>

                <!-- BoardIcon -->
                <a href="/Board">
                    <div class="iconDiv expandDiv" style="top:21vh; left:25vw;" data-title="Board" data-intro="Here, you can view and create posts. Share about your day, or catch up with friends.">
                        <img src="~/imgs/NavMap/Board_Icon.png" class="navMapIcon" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.board</span></p>
                    </div>
                </a>

                <!-- SupportIcon -->
                <a href="/Support">
                    <div class="iconDiv expandDiv" style="top:47vh; left:14vw;" data-title="Support" data-intro="Contact KampongTalk staff here.">
                        <!--SupportLink-->
                        <img src="~/imgs/NavMap/Support_Icon.png" class="navMapIcon" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.support</span></p>
                    </div>
                </a>

                <!-- EventsIcon -->
                <a href="/Events">
                    <div class="iconDiv expandDiv" style="top:38vh; left:40vw;" data-title="Events" data-intro="Looking for a way to pass the time? Browse and create engaging events here.">
                        <img src="~/imgs/NavMap/Events_Icon.png" class="navMapIcon" style="height:25vh;" />
                        <p><span class="tag is-dark is-large has-text-weight-bold">@Model.LangData.features.events</span></p>

                    </div>
                </a>

            </div>
            <!-- END: KT Nav Map -->

        </div>
        <!-- END: Main Column -->

        <div class="column">

            <p><button class="button is-light" onclick="history.back()" data-title="Close the map" data-intro="Click here to close the map and return to your previous page."><i class="fas fa-times"></i>&ensp;@Model.LangData.navMap.closeMap</button></p>
            <br />

            <div class="is-pulled-left">

                <div class="has-text-centered expandDiv" data-title="Friends" data-intro="Access your friends list here.">
                    <a href="/Profile?u=@Model.CurrentUser.Uid2&showFriendsModal=1">
                        <button class="button is-large is-primary">
                            <span class="icon is-medium">
                                <i class="fas fa-user-friends"></i>
                            </span>
                        </button>
                    </a>
                    <p class="has-text-weight-bold">@Model.LangData.features.friends</p>
                </div>
                <br />

                <div class="has-text-centered expandDiv" data-title="Profile" data-intro="View and customise your profile here.">
                    <a href="/Profile?u=@Model.CurrentUser.Uid2">
                        <button class="button is-large is-primary">
                            <span class="icon is-medium">
                                <i class="fas fa-user"></i>
                            </span>
                        </button>
                    </a>
                    <p class="has-text-weight-bold">@Model.LangData.features.profile</p>
                </div>
                <br />

                <div class="has-text-centered expandDiv" data-title="Settings" data-intro="Change your account settings here.">
                    <a href="/Settings">
                        <button class="button is-large is-primary">
                            <span class="icon is-medium">
                                <i class="fas fa-cog"></i>
                            </span>
                        </button>
                    </a>
                    <p class="has-text-weight-bold">@Model.LangData.features.settings</p>
                </div>
                <br />

                <div class="has-text-centered expandDiv" data-title="Log Out" data-intro="Click this button to exit Kampong Talk.">
                    <form method="post">
                        <button class="button is-large is-primary" type="submit" value="LOGOUT" formaction="/Accounts/Logout">
                            <span class="icon is-medium">
                                <i class="fa-solid fa-right-from-bracket"></i>
                            </span>
                        </button>
                    </form>
                    <p class="has-text-weight-bold">@Model.LangData.logout</p>
                </div>

            </div>
        </div>
    </div>
</section>

<section class="section" id="halfview">

    <div class="container">
        <a href="/Board">
            <div class="box is-inline-block m-2 has-text-centered" style="width:40vw;">
                <img src="~/imgs/NavMap/Board_Icon.png" style="height:15vh;" class="mt-3" />
                <p class="is-size-4 has-text-centered">@Model.LangData.features.board</p>
            </div>
        </a>
        <a href="/Community/Explore">
            <div class="box is-inline-block m-2 has-text-centered" style="width: 40vw;">
                <img src="~/imgs/NavMap/Communities_Icon.png" style="height:15vh;" class="mt-3" />
                <p class="is-size-4 has-text-centered">@Model.LangData.features.communities</p>
            </div>
        </a>
        <a href="/DigitalVoidDeck/Lobby">
            <div class="box is-inline-block m-2 has-text-centered" style="width: 40vw;">
                <img src="~/imgs/NavMap/Void_Deck.png" style="height:15vh;" class="mt-3" />
                <p class="is-size-4 has-text-centered">@Model.LangData.features.voidDeck</p>
            </div>
        </a>
        <a href="/Events">
            <div class="box is-inline-block m-2 has-text-centered" style="width: 40vw;">
                <img src="~/imgs/NavMap/Events_Icon.png" style="height:15vh;" class="mt-3" />
                <p class="is-size-4 has-text-centered">@Model.LangData.features.events</p>
            </div>
        </a>

    </div>
    <br />

    <aside class="menu">

        @*<p class="menu-label">
            Community
        </p>
        <ul class="menu-list">
            <li><a>Board</a></li>
            <li><a>Communities</a></li>
            <li><a>Void Deck</a></li>
            <li><a>Events</a></li>
        </ul>
        <br />*@

        <p class="menu-label">
            @Model.LangData.navMap.social
        </p>
        <ul class="menu-list">
            <li><a><i class="fas fa-comment"></i>&ensp;@Model.LangData.features.chats</a></li>
            <li><a><i class="fas fa-user-friends"></i>&ensp;@Model.LangData.features.friends</a></li>
        </ul>
        <br />

        <p class="menu-label">
            My Account
        </p>
        <ul class="menu-list">
            <li><a href="/Profile?u=@Model.CurrentUser.Uid2"><i class="fas fa-user-circle"></i>&ensp;@Model.LangData.features.profile</a></li>
            <li><a href="/Settings"><i class="fas fa-cog"></i>&ensp;@Model.LangData.features.settings</a></li>
        </ul>
        <br />

        <p class="menu-label">
            Help
        </p>
        <ul class="menu-list">
            <li><a href="/Support"><i class="fas fa-headset"></i>&ensp;@Model.LangData.features.support</a></li>
        </ul>

        <br />
        <form method="post">
            <button class="button is-primary" type="submit" value="LOGOUT" formaction="/Accounts/Logout">
                <i class="fa-solid fa-right-from-bracket"></i>&ensp;@Model.LangData.logout
            </button>
        </form>

    </aside>
</section>

<script>
    $(document).ready(function () {

        adjustView()
    })

    window.addEventListener("resize", adjustView)

    function adjustView() {
        var map = document.getElementById("fullview")
        var altview = document.getElementById("halfview")
        if (!window.matchMedia("(min-width: 1120px)").matches) {
            map.classList.add("is-hidden")
            altview.classList.remove("is-hidden")
        }
        else {
            map.classList.remove("is-hidden")
            altview.classList.add("is-hidden")
        }
    }

</script>

@if (Model.useAudioCues)
{
    <script>

        $(document).ready(function () {

            var icons = document.getElementsByClassName('navMapIcon');
            var chime = document.getElementById('chime');
            /*chime.volume = 0.5;*/
            var audios = document.querySelectorAll('audio');

            var playAudio = function () {
                [].forEach.call(audios, function (audio) {
                    audio.play();
                });
            }

            var stopAudio = function () {
                chime.pause();
                chime.currentTime = 0;
            }

            for (var i = 0; i < icons.length; i++) {
                icons[i].addEventListener('mouseover', playAudio, false);
                icons[i].addEventListener('mouseleave', stopAudio, false);
            }
        })

    </script>

}

<script defer>
    if (window.location.hash === '#walkthrough') {
        introJs().start()
    }
    var mapBtn = document.getElementById("mapButton")
    mapBtn.classList.remove("is-light")
    mapBtn.classList.add("is-dark")
</script>