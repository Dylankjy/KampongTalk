@page "{eid}"
@model KampongTalk.Pages.Events.ViewModel
@{
}

@section Scripts {
    @if (Model.UserId == Model.myEvent.CreatorId)
    {
        <script>
            $("#renderImage").on('click', () => {
                $("input[name=eventImage").click()
            })

            $("input[name=eventImage").on('change', () => {
                console.log("Changed")
                $("#editImageForm").submit()
            })
        </script>
    }
}


<div class="section">
    <div class="columns is-vcentered">
        @if (Model.UserId == Model.myEvent.CreatorId)
        {
            <partial name="_EditableImg"/>
        }
        else
        {
            <div class="column is-8">
                <figure class="has-text-centered">
                    <img src="~/imgs/@Model.myEvent.Img"/>
                </figure>
            </div>
        }


        <div class="column is-4">
            <div class="content">
                <h1 class="title is-size-3">@Model.myEvent.Name</h1>
                <p class="subtitle is-size-7">Organized By: <a href="/User/@Model.myEvent.CreatorId">BestElderlySG</a></p>
                <br/>

                <p>Date: @Model.eventDate</p>
                <p>Duration: @Model.myEvent.Duration Hours</p>
                <p>Time: @Model.myEvent.StartTime - @Model.myEvent.EndTime</p>
                <p>Held At: <a target="_blank" href="@Model.myEvent.Location">@Model.myEvent.Location</a></p>
                <p>@Model.myEvent.Description</p>
            </div>

            <a href="/Events/Edit/@Model.myEvent.Eid" class="button is-warning">
                <span class="icon">
                    <i class="fas fa-wrench"></i>
                </span>
                <span>Edit</span>
            </a>
        </div>
    </div>
</div>